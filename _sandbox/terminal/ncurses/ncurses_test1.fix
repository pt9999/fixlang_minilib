module Main;

import Subprocess;

import Minilib.Terminal.Ncurses;

test1: IO ();
test1 = do {
    Ncurses::run $ |win| (
        let selected = 10;
        init_color_pair(selected, white, blue);;
        win.clear;;
        win.set_color(selected, normal);;
        win.move_add_str(10, 10, "Hello world");;
        win.set_color(green, bold);;
        win.move_add_str(10, 11, "Hello world");;
        let attr = make_attr(white, reverse);
        win.set_attr(attr);;
        let (w, h) = *win.get_window_size;
        win.move_add_str(10, 12, "Hello world " + (w, h).to_string);;
        let c = *win.getch;
        pure()
    )
}.try(eprintln);


main: IO ();
main = test1;
