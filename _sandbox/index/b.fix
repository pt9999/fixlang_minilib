module Main;

type Obj = struct { val: I64 };
scale: F64 -> Obj -> F = |k, obj| F { val: k * obj.@val.to_F64 };

type F = struct { val: F64 };

main: IO ();
main = (
    let obj = Obj { val: 42 };
    let fval = (obj.scale(100.0))[^val].iget;
    println(fval.to_string)
);
