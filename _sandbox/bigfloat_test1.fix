module Main;

import Math;
import Debug;

import Minilib.Math.BigFloat;
import Minilib.Math.BigInt;
import Minilib.Math.BigNat;
import Minilib.Text.StringEx;
import Minilib.Testing.UnitTest;
//import Minilib.Testing.Timeit;


main: IO ();
main = (
    let _ = *(
        let _ = *eprintln("--- test_sqrt");
        let prec10 = 20;
        let a = BigFloat::from_F64(1234567890.0).set_prec10(prec10);
        let x = a.sqrt;
        let _ = *eprintln("a  =" + a._to_string_rep);
        let _ = *eprintln("a  =" + a.to_string);
        let _ = *eprintln("x  =" + x.to_string);
        let _ = *eprintln("x*x=" + (x * x).to_string);
        pure()
    );
    let _ = *(
        let _ = *eprintln("--- test_misc");
        let a = BigFloat::from_F64(1024.0).set_prec(256) / BigFloat::from_F64(1000.0);
        let b = BigFloat::from_F64(64.0).set_prec(256)  / BigFloat::from_F64(10.0);
        let _ = *eprintln("a="+a.to_string);
        let _ = *eprintln("a="+a.to_string_precision(20));
        let _ = *eprintln("b="+b.to_string);
        let _ = *eprintln("b="+b.to_string_precision(20));
        let c = a * b;
        let _ = *eprintln("c="+c.to_string);
        let _ = *eprintln("c="+c.to_string_precision(20));
        let _ = *eprintln("c.to_F64="+c.to_F64.to_string);
        let d = c / a;
        let _ = *eprintln("d="+d.to_string);
        let _ = *eprintln("d.to_F64="+d.to_F64.to_string);
        pure()
    );
    pure()
);
