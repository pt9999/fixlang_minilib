module Minilib.Data.Monoid.Last;

import Minilib.Trait.Monoid;

type Last a = unbox struct {
    data: Option a
};

from_option: Option a -> Last a;
from_option = |opt| Last { data: opt };

get_last: Last a -> Option a;
get_last = @data;

impl Last a: Monoid {
    mempty = from_option(none());
    mconcat = |b, a| (
        if b.@data.is_some { b } else { a }
    );
}
