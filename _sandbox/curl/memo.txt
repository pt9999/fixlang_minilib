cf. [Rust bindings to libcurl C library](https://docs.rs/curl/latest/curl/)


curl_test.fix:
    module Main;
    main = (
        let easy = *Easy::make;
        eval *easy.url("http://...");
        eval *easy.write_function(|data|
            eval *println(data._unsafe_to_string).lift;
            pure $ data.get_size
        );
        eval *easy.perform;
        pure()
    );

curl.fix:
    module Minilib.Net.Curl;
    type Easy = box struct {
        data: Destructor Ptr
    };

    type WriteFunction = Array U8 -> IOFail I64;

    namespace Easy {
        make: IOFail Easy;
        url: String -> Easy -> IOFail ();
        write_function: WriteFunction -> Easy -> IOFail ();
        _callback_write_function: Ptr -> CSizeT -> CSizeT -> Ptr -> Array I64 -> ();

        perform: Easy -> IOFail ();
    }

