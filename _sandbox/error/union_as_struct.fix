module Main;

// declare Foo as a union
type Foo = unbox union {
    foo: String
};

// create Foo as a struct
make_foo: String -> Foo;
make_foo = |str| Foo { foo: str };

main: IO ();
main = (
    // compile succeeds.
    // it panicks with "All union variants unmatch!" in runtime.
    let foo = make_foo("aaa");
    pure()
);
