// SIGSEGV occurs when read_line() is called after close_file() is called
module Main;
main: IO ();
main = (
    do {
        let fh = *open_file(Path::parse("/dev/null").as_some, "r");
        let _ = *close_file(fh).lift;
        let line = *read_line(fh);
        pure()
    }
    .try(|err| eprintln(err))
);
