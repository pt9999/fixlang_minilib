module Minilib.Data.Monoid.Last;

import Minilib.Trait.Monoid;

type Last a = unbox struct {
    data: Option a
};

to_last: Option a -> Last a;
to_last = |opt| Last { data: opt };

get_last: Last a -> Option a;
get_last = @data;

impl Last a: Monoid {
    mempty = to_last(none());
    mappend = |b, a| (
        if b.@data.is_some { b } else { a }
    );
}
